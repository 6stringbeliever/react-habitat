!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("ReactDOM"),require("react")):"function"==typeof define&&define.amd?define(["ReactDOM","react"],t):"object"==typeof exports?exports.ReactHabitat=t(require("ReactDOM"),require("react")):e.ReactHabitat=t(e.ReactDOM,e.react)}(this,function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=o(r),i=n(2),u=o(i),c=n(4);t.default={Bootstrapper:a.default,Container:u.default,createBootstrapper:c.createBootstrapper}},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){for(var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.domFactory(),a=e.id(),i=0;t.length>i;++i){var u=t[i],l=u.getAttribute(n),s=e.resolve(l);s?r.inject(s,c.default.parseProps(u),c.default.create(u,a)):null===l||""===l||void 0===l?console.warn("Cannot read attribute value with '"+n+"' for element.",u):console.warn('Cannot resolve component "'+l+'" for',u)}"function"==typeof o&&o.call()}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;t.length>n;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(3),c=o(u),l="data-component",s=function(){function e(){if(r(this,e),!window||!window&&!window.document)throw Error("React Habitat requires a window but cannot see one :(");this.componentSelector=l,this._elements=null,this._container=null}return i(e,[{key:"setContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!==this._container)throw Error("A container is already set. Please call dispose() before assigning a new one.");this._container=e,this._elements=window.document.body.querySelectorAll("["+this.componentSelector+"]"),a(this._container,this._elements,this.componentSelector,t)}},{key:"dispose",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this._container.domFactory(),n=window.document.body.querySelectorAll('[data-habitat="'+this._container.id()+'"]'),o=0;n.length>o;++o)t.dispose(n[o]),c.default.destroy(n[o]);this._container=null,this._elements=null,"function"==typeof e&&e.call()}}]),e}();t.default=s},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;t.length>n;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(5),c=o(u),l=function(){var e=0;return function(){return e++,"C"+e}}(),s=function(){function e(){r(this,e),this._components={},this._id=l()}return i(e,[{key:"id",value:function(){return this._id}},{key:"registerComponent",value:function(e,t){if("string"!=typeof e)throw Error("Unexpected component key. Expects a string.",e);this._components[e]=t}},{key:"registerComponents",value:function(e){if("object"!==(void 0===e?"undefined":a(e)))throw Error("Unexpected components type. Expects type object",e);Object.assign(this._components,e)}},{key:"resolve",value:function(e){return this._components[e]}},{key:"getComponent",value:function(e){return console.warn('getComponent is being deprecated. Please update to use "resolve()" instead.'),this.resolve(e)}},{key:"domFactory",value:function(){return c.default}}]),e}();t.default=s},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return e[1].toUpperCase()}function r(e){var t=e.currentStyle||window.getComputedStyle(e,"");return t.display}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;t.length>n;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i="habitatHostElement",u="data-habitat",c="data-has-habitat",l=function(){function e(){n(this,e)}return a(e,null,[{key:"parseProps",value:function(e){for(var t={proxy:e},n=0;e.attributes.length>n;n++){var r=e.attributes[n];if(r.name.indexOf("data-prop-")<0)"data-props"===r.name&&Object.assign(t,JSON.parse(r.value));else{var a=r.name.replace("data-prop-","").replace(/-([a-z])/g,o),i=r.value||"";"string"==typeof i&&"false"===i.toLocaleLowerCase()&&(i=!1),"string"==typeof i&&"true"===i.toLocaleLowerCase()&&(i=!0),"string"==typeof i&&i.length>2&&("{"===i[0]&&"}"===i[i.length-1]||"["===i[0]&&"]"===i[i.length-1])&&(i=JSON.parse(i)),t[a]=i}}return t}},{key:"create",value:function(e,t){if(window.document.body===e||null===e||void 0===e)return console.warn("Cannot open a habitat for ",e),null;var n="span";"block"===r(e)&&(n="div");var o=window.document.createElement(n),a=e.getAttribute("data-habitat-class")||null,l=!1;if(null!==e.getAttribute("data-habitat-no-replace")&&(l="true"===e.getAttribute("data-habitat-no-replace").toLocaleLowerCase()),o.setAttribute(u,t),a&&(o.className=""+a),e.parentNode.insertBefore(o,e.nextSibling),"INPUT"!==e.tagName){if(""!==e.innerHTML)throw Error("React Habitat elements must be empty. Any child components should be added inside React.");if(!l){var s=e.parentNode.removeChild(e);try{o[i]=s}catch(f){console.warn("Arbitrary properties are disabled and Habitat may not dispose correctly.",f)}}}else e.setAttribute(c,"true"),"hidden"!==e.getAttribute("type")&&e.setAttribute("style","display: none;");return o}},{key:"hasHabitat",value:function(e){return null!==e.getAttribute(c)}},{key:"destroy",value:function(e){try{void 0!==e[i]&&e.parentNode.insertBefore(e[i],e)}finally{e.parentNode.removeChild(e)}}}]),e}();t.default=l},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return new p(e)}Object.defineProperty(t,"__esModule",{value:!0}),t._Mixin=void 0,t.createBootstrapper=u;var c=n(1),l=o(c),s=n(2),f=o(s),p=t._Mixin=function(e){function t(e){r(this,t);var n=a(this,Object.getPrototypeOf(t).call(this));if(!e.container)return console.warn('"Container" property was not supplied'),a(n);e.componentSelector&&(n.componentSelector=e.componentSelector);for(var o=new f.default,i=0;e.container.length>i;i++)o.registerComponent(e.container[i].register,e.container[i].for);return n.setContainer(o),n}return i(t,e),t}(l.default)},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;t.length>n;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(7),u=o(i),c=n(6),l=o(c),s=function(){function e(){r(this,e)}return a(e,null,[{key:"inject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];n?l.default.render(u.default.createElement(e,t||{}),n):console.warn("Target element is null or undefined. Cannot inject component")}},{key:"dispose",value:function(e){e&&l.default.unmountComponentAtNode(e)}}]),e}();t.default=s},function(t,n){t.exports=e},function(e,n){e.exports=t}])});